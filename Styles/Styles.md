# Стили

1. [Общие требования](#1)
2. [Правила](#2)
3. [Шрифты](#3)
4. [БЭМ](#4)
5. [Возможные ошибки](#5)

<a name="1"></a>

## Общие требования

<a name="1.1"></a>

- [1.1](#1.1)
  Используем [pixel-perfect](https://chrome.google.com/webstore/detail/perfectpixel-by-welldonec/dkaagdgjmgdmbnecmcefdhjekcoceebi?hl=ru)
  , если есть макет.

<a name="1.2"></a>

- [1.2](#1.2) Не подключать стили с удаленных источников — только с наших серверов.

<a name="1.3"></a>

- [1.3](#1.3) Все правила должны быть разбиты на разные файлы по страницам и блокам, каждый файл должен быть не длиннее,
  чем 1000 строк.

<a name="1.4"></a>

- [1.4](#1.4) Для всех интерактивных элементов нужно прописывать стили при hover, focus, active и т.д., если их нет по
  умолчанию

<a name="1.5"></a>

- [1.5](#1.5)  Пытаться по максимуму делать сайт резиновым (ставьте ширину в процентах и выставляйте max-width,
  min-width) — прибегайте к фиксированной ширине элемента, только если по макету от этого никак не уйти.

<a name="1.6"></a>

- [1.6](#1.6) Все стили одного блока должны быть в одном месте и отсортированы по порядку их расположения на странице.

  То есть, если есть шапка, а внутри нее поисковая форма, то в .css файлах нельзя сначала определить стили шапки, потом
  кучу стилей тела страницы и потом стили поисковой формы шапки. Должны идти стили самой шапки и сразу под ней стили
  формы.

  При этом стили сайдбара не могут идти раньше стилей шапки, а стили футера идти раньше стилей сайдбара. Лучше вообще
  эти стили разнести по разным файлам.

<a name="1.7"></a>

- [1.7](#1.7) Футер страницы должен быть всегда прижат к низу страницы, даже если на странице мало
  контента ([5 методов, как сделать это](http://dimox.name/press_footer_bottom_with_css/)).

<a name="1.8"></a>

- [1.8](#1.8) Если есть стили, которые могут встретиться в другом месте, то вынести как миксин(В идеале в отдельный компонент, если это возможно).


<a name="2"></a>

## Правила

<a name="2.1"></a>

- [2.1](#2.1) Не использовать `!important`.

  В 99% случаях проблему можно решить, грамотно используя `БЭМ` или изменять стили через пропсы, если это Angular
  Material. В сложных редких случаях лучше увеличивать приоритет селекторов (например, когда надо стили библиотеки
  переопределить).

<a name="2.2"></a>

- [2.2](#2.2) Не использовать `position: absolute` для стилизации, где это можно заменить другими подходами.

<a name="2.3"></a>

- [2.3](#2.3) Не двигать элемент при помощи `top`, `left`, `right` или `bottom` при `position: relative`, где это можно
  заменить другими подходами.

  Можно использовать сам `position: relative` (без свойств `top`, `left`, `right` или `bottom`) для `z-index` и для
  того, чтобы указать потомкам элемента ориентир.

<a name="2.4"></a>

- [2.4](#2.4) Не использовать отрицательные margin.

  На самом деле, отрицательные `margin` — это валидные правила, они поддерживаются спецификацией `CSS`, и их даже
  используют такие гиганты, как Bootstrap (посмотрите стили для `.row`).

  Но это очень неочевидные правила, их тяжело обнаружить, и их почти всегда можно заменить более легкими и
  предсказуемыми свойствами.

<a name="2.5"></a>

- [2.5](#2.5) Избегать фиксирования высоты.

  Почти всегда использование фиксированного в пикселях, процентах и других единицах `height` является признаком
  неправильного кода. Это делает очень неочевидным поведение элементов, которые следуют за зафиксированным по высоте,
  может произойти обрезание контента или его наложение на следующие элементы.

  Когда это все-таки может быть нужно:

    - У элемента надо ручками подстроиться под высоту потомков, которых "убрали" из общего потока. "Убрать" из потока
      можно через `position: absolute`, например. Это может быть слайдер, у которого потомки крутятся как раз через
      позиционирование, а не смещение `margin`-ом

    - По дизайну надо подстроить все элементы под определенную высоту, а контент, вылезающий за пределы, обрезать.

<a name="2.6"></a>

- [2.6](#2.6) Избегать фиксированных выравниваний.

  Если блок должен быть отцентрирован (хоть по горизонтали, хоть по вертикали), то центрировать его динамически, а не
  фиксированным `margin-top`.

  Например:

  ![Пример](https://user-images.githubusercontent.com/12808495/55335190-df687980-54c4-11e9-8623-13ecdb996ebc.png)

  Здесь картинку, текст и полоску надо центрировать через `vertical-align`, а не `top: 55px` у полоски.

  Часто будут попадаться случаи более сложного центрирования — почти для каждого есть свой метод, надо их отдельно
  изучать.

  [Статья про vertical-align](http://web-standards.ru/articles/vertical-align/)

  Что нужно сделать, чтобы центрировать по высоте _элемент1_ внутри _элемента2_:

    - Оба элемента должны быть любыми inline элементами

    - У _элемента2_ должен быть указан font-size или line-height. _Элемент2_ отцентрируется только в зависимости от
      font-size или line-height и не обратит внимания на height.

<a name="2.7"></a>

- [2.7](#2.7) При тестировании обязательно посмотреть цвет `:visited` ссылки.

  Браузер по умолчанию такие ссылки фиолетовыми делает, что чаще всего недопустимо в дизайне.

<a name="2.8"></a>

- [2.8](#2.8) Добавлять элементу `cursor: pointer`, если он кликабелен и по умолчанию этого не поддерживает.

<a name="2.9"></a>

- [2.9](#2.9) Удалять все неиспользуемые правила и правила, которые никак не влияют на отображение (например,
  дублирующие свойства по умолчанию или нулевые `margin`, если они и так не выставлены) — они могут в дальнейшем при
  правках внести неочевидное поведение и из-за них тяжело разбираться в проекте.

<a name="2.10"></a>

- [2.10](#2.10) Слова, целиком состоящие из верхнего регистра, предпочтительно делать через
  стиль `text-transform: uppercase`, а не реальным вводом текста заглавными буквами.

<a name="2.11"></a>

- [2.11](#2.11) При установке элементу `outline: none` обязательно выставить стили для `:focus` этому элементу.

  `outline` очень полезен, когда юзер заполняет форму, используя клавишу `tab` для переключения между инпутами и
  кнопками. Если `outline` убрать, станет менее заметно (или незаметно вовсе для кнопок), какой элемент сейчас выбран.

<a name="2.12"></a>

- [2.12](#2.12) Все использования `@media` должны идти сразу после основных правил элемента, для того чтобы можно было
  увидеть все правила и все возможные состояния элемента в одном экране без прокручивания.

<a name="2.13"></a>

- [2.13](#2.13) Не нужно ставить большие значения к z-index. Изучите, как работает z-index и ставьте те значения,
  которые необходимы.

<a name="2.14"></a>

- [2.14](#2.14) Всегда использовать как минимум один запасной шрифт и одно запасное семейство.

  Их перечисляют через запятую в `font-family`, так что каждое использование `font-family` должно происходить по схеме:

  ```css
  block {
    font-family: Helvetica, Arial, sans-serif;
  }
  ```

  Здесь `Helvetica` — нестандартный подключаемый шрифт.

  `Arial` — стандартный шрифт, который используется почти на всех клиентах, он будет использоваться, если не удалось
  подключить `Helvetica`.

  `sans-serif` — это семейство всех шрифтов без засечек (каковыми являются и `Helvetica`, и `Arial`). Если
  даже `Arial-а` на компе нет, то поставится какой-то системный дефолтный шрифт без засечек. Выбор здесь надо делать
  из `"serif,"` `"sans-serif,"` или `"monospace"`. Для шрифтов без засечек использовать по умолчанию `Arial`, для
  шрифтов с засечками — `Georgia` (а не `Times New Roman`), а для моноширинных — `"Courier New"`
